<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <script type=text/javascript src="./js/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="./css/style.css" />
  <title>The Witcher Trivia Map of Europe</title>
  <style type="text/css">
    html, body { height: 100%; margin: 0; padding: 0; }
    #map { height: 100%; }
  </style>
</head>

<body>
  <header>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
      </div>
    </nav>
  </header>

  <div id="map">
  </div>

    <script>
      var map;

      var markers = [];

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 54.675605, lng: -4.4455836},
          zoom: 4
      });

      var locations = [
        {title: "Birka", location: {lat: 59.3352163, lng: 17.5425896}},
        {title: "Yennefer", location: {lat: 51.6121678, lng: -3.0224666}},
        {title: "Francesca Findabair", location: {lat: 53.6256191, lng: -8.2031646}},
        {title: "Bronibor", location: {lat: 52.4268039, lng: 12.4034553}},
        {title: "Dijkstra", location: {lat: 51.9280573, lng: 4.4203664}},
        {title: "Esterad Thyssen", location: {lat: 51.4111465, lng: 6.8130815}},
        {title: "Cintra", location: {lat: 38.8356907, lng: -9.5007252}},
        {title: "..., elle'a?", location: {lat: 60.8939464, lng: -0.2786168}},
        {title: "Maribor", location: {lat: 46.5536366, lng: 15.5745097}},
      ];
      for (var i = 0; i<locations.length; i++){
        var position = locations[i].location;
        var title = locations[i].title;

        var marker = new google.maps.Marker({
          map: map,
          position: position,
          title: title,
          animation: google.maps.Animation.DROP,
          id: i
        });
        markers.push(marker);
        marker.addListener('click', function(){
          populateInfoWindow(this, largeInfoWindow)
        });
      }

      function populateInfoWindow(marker, infowindow){
        if(infowindow.marker != marker){
          infowindow.marker = marker;
          infowindow.setContent('<div>' + marker.title + '</div>');
          infowindow.open(map, marker);
          infowindow.addListener('closeclick', function(){
            infowindow.setMarker(null);
          });
        }
      }

      var birka = {lat: 59.3352163, lng: 17.5425896};
      var marker = new google.maps.Marker({
        position: birka,
        map: map,
        title: "Birka"
      });
      var largeInfoWindow = new google.maps.InfoWindow({
        content: 'Go away'
      });
      marker.addListener('click', function(){
        infowindow.open(map, marker)
      });
    }
    </script>



  <footer>
  </footer>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCQ_EKUiWMO35cymsNlEly0DmtAk8tiqps&v=3&callback=initMap">
  </script>
</body>
</html>
